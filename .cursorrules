# ZENPro - Cursor Rules (Optimizado)

## ğŸ¯ PROYECTO CORE

**Stack:** Next.js 15 + TypeScript 5 + React 19 + Prisma + Supabase + Tailwind 4

**Arquitectura:** Multi-tenant SaaS para estudios fotogrÃ¡ficos

## ğŸ—ï¸ ESTRUCTURA

```
src/
â”œâ”€â”€ app/              # Next.js App Router
â”œâ”€â”€ components/ui/
â”‚   â”œâ”€â”€ zen/         # ZEN Design System (USAR PRIMERO)
â”‚   â””â”€â”€ shadcn/      # Base components
â”œâ”€â”€ lib/             # Utilities
â””â”€â”€ types/           # TypeScript types
```

## ğŸ¨ DISEÃ‘O ZEN

**Tema:** Dark mode zinc (zinc-950/900/800)

**Componentes disponibles:**

- ZenButton, ZenInput, ZenCard, ZenTextarea
- ZenSidebar, ZenModal, ZenBadge

**Imports:**

```typescript
// âœ… SIEMPRE PRIMERO
import { ZenButton, ZenInput } from "@/components/ui/zen";

// Solo si no existe en ZEN
import { Dialog } from "@/components/ui/shadcn/dialog";
```

## ğŸ”§ CÃ“DIGO

**TypeScript:**

- Strict mode enabled
- NO usar `any`
- Tipar todas las props

**React:**

- Componentes funcionales
- `"use client"` cuando necesario
- useCallback para funciones en deps
- useMemo para cÃ¡lculos costosos

**Next.js:**

- Server Components por defecto
- API Routes en `app/api/`
- Dynamic routes con `[slug]`

## ğŸ—„ï¸ BASE DE DATOS

**Prisma:**

- Naming: camelCase para campos
- Ãndices en queries frecuentes
- Relaciones bien definidas

**Supabase:**

- Auth con @supabase/ssr
- RLS habilitado
- Client/Server separation

## ğŸ“ CONVENCIONES

**Naming:**

- Archivos: kebab-case
- Componentes: PascalCase
- Variables: camelCase
- Constantes: UPPER_SNAKE_CASE

**Imports:**

```typescript
// 1. React/Next
import React from "react";
import { NextResponse } from "next/server";

// 2. Third-party
import { PrismaClient } from "@prisma/client";

// 3. ZEN (siempre primero)
import { ZenButton } from "@/components/ui/zen";

// 4. Local
import { LeadForm } from "./components/LeadForm";
```

## ğŸš¨ PROHIBIDO

- âŒ Usar `any` en TypeScript
- âŒ Mutar props directamente
- âŒ useEffect sin deps correctas
- âŒ Hardcodear strings
- âŒ Prisma en client components
- âŒ Modificar archivos `.env*`
- âŒ Usar shadcn/ui si existe componente ZEN

## âœ… SIEMPRE HACER

- âœ… Usar ZEN Design System primero
- âœ… Tipado fuerte TypeScript
- âœ… Error handling con try/catch
- âœ… Loading states en acciones async
- âœ… ValidaciÃ³n con Zod
- âœ… API routes para DB operations

## ğŸ¯ PATRONES ZEN

**Formularios:**

```typescript
Guardar;
```

**Cards:**

```typescript
TÃ­tulo;

{
  /* Contenido */
}
```

## ğŸ”’ SEGURIDAD

- Supabase Auth + JWT
- Middleware para rutas protegidas
- RLS en base de datos
- ValidaciÃ³n cliente + servidor

## ğŸ“¦ DEPENDENCIAS CLAVE

- next@15.5.2, react@19.1.0, typescript@5
- @prisma/client@6.15.0, @supabase/supabase-js@2.57.4
- tailwindcss@4, lucide-react, sonner

---

**MantÃ©n cÃ³digo limpio, tipado y siguiendo ZEN Design System.**
